<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>String|Math|Date</title>
</head>
<body>
    <h1>String | Math | Date</h1>

    <h2>String</h2>
    <button type="button" onclick="test1();">확인</button>
    
    <script>
        function test1(){
            let str1 = "Apple Samsung";
            console.log(str1.length);
            console.log(str1.toUpperCase());
            console.log(str1.toLowerCase());
            
            //찾는 문자의 위치
            console.log(str1.indexOf('ms')); //8
            console.log(str1.indexOf('kkk')); //없다면 -1

            //substring(start, end) : start포함 ~ end 미포함
            console.log(str1.substring(8,10)); //ms
            console.log(str1.substring(8)); //msung

            //substr(start, length)
            console.log(str1.substr(8,2)); //ms
            console.log(str1.substr(8)); //msung

            //charAt(idx)
            console.log(str1.charAt(8)); //m
            console.log(str1.charAt(200)); // '' -> 오류x

            //@실습문제
            let cnt = countChar(str1, 'a');
            console.log("cnt=" + cnt);

            //split(token)
            let str2 = "사과/바나나/복숭아/키위";
            let arr = str2.split("/"); 
            console.log(arr, typeof arr); //배열객체(object)가 리턴
            
            //for..in 문: 배열의 경우 인덱스가 리턴
            for(let i in arr){
                console.log(arr[i]);
            }
            
        }
        
        //@실습문제 : str에서 a(대소문자 구분없이)의 개수를 셀 수 있도록 구현
        function countChar(str, search){
            let cnt = 0;
            for(var i=0; i<str.length; i++){
               if(str.charAt(i).toLowerCase() == search.toLowerCase()){
                   cnt++;
               }
            }
            return cnt;
        }
    </script>

    <h2>Math</h2>
    <button type="button" onclick="test2()">확인</button>

    <script>
        function test2(){
            //난수 Math.random()*(경우의 수) + (최소값)
            //Math.floor() 버림
            console.log(Math.floor(Math.random()*10)+1);

            let num = 123.456;
            //반올림
            console.log(Math.round(num*100)/100);
            //올림
            console.log(Math.ceil(num));
        }
    </script>

    <h2>@실습문제</h2>
    <p>순서있는 리스트 100개 생성 (emmet)
        1~100사이의 난수를 대입, 
        이때 짝수라면 글자색을 컬러풀하게 변경해주세요
    </p>
    <button type="button" onclick="test3();">실행</button>
    <ol>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
    </ol>

    <script>
        function test3(){
            let li = document.getElementsByTagName("li");

            for(let i=0; i<li.length; i++){
                let rnd = (Math.floor(Math.random()*100)+1);
                li[i].innerHTML = rnd;
                
                if(rnd%2 == 0)
                    li[i].style.color = "red";
                else
                    li[i].style.color = "black";
            }
        }
    </script>

    <h2>Date</h2>
    <p>날짜/시각정보를 가진 객체</p>
    <div id="area1"></div>
    <button type="button" onclick="startClock();">확인</button>
    <button type="botton" onclick="test5()">특정날짜 확인</button>
    <style>
        #area1{
            width: 300px;
            height: 200px;
            background-color: beige;
        }
        button{
            margin: 10px 0;
        }
    </style>
    <script>
        function test5(){
            // let date1 = new Date("2020/03/17");
            let date1 = new Date("2020-03-17 09:00:10");
            console.log(date1);

            //utc universe second
            let millis = date1.getTime();
            console.log(millis);

            let date2 = new Date(millis);
            console.log(date2);

            let nowMillis = Date.now(); //현재시각정보를 utc universe second로 변환
            console.log(nowMillis);
        }

        function startClock(){
            test4(); //딜레이없이 하기위해 최초 1회 직접 호출해준다
            //반복적으로 함수 호출
            //setInterval(fx, ms);
            setInterval(test4, 1000);
        }

        function test4(){
            let now = new Date();
            console.log(now);

            let yyyy = now.getFullYear();
            let mm = get2digit(now.getMonth()+1);
            let dd = get2digit(now.getDate());

            let hh = get2digit(now.getHours());
            let mi = get2digit(now.getMinutes());
            let ss = get2digit(now.getSeconds());

            let s1 = yyyy + "/" + mm + "/" + dd;
            let s2 = hh + ":" + mi + ":" + ss;

            area1.innerHTML = "<h1>"+s1+"</h1>";
            area1.innerHTML += "<h1>"+s2+"</h2>";
        }

        function get2digit(num){
            if(num<10)
                return "0"+num;
            else
                return num;
        }
    </script>
</body>
</html>